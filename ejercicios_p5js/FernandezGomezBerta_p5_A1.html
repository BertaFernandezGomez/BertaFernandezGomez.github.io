<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>A1 — Mi escena con variables</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
  </head>
  <body>
    <script>
      // Variables
      let x, y, v, d, r;
      let snowmanX; // posición del muñeco

      function setup() {
        createCanvas(600, 600);

        d = min(width, height) * 0.12;
        r = d / 2;

        x = -r;
        y = height * 0.75;
        v = width / 500;

        snowmanX = 450; // posición inicial del muñeco
      }

      function draw() {
        background(38, 43, 59);

        // Luna en movimiento
        fill(237, 191, 76);
        stroke(227, 169, 25);
        strokeWeight(3);
        circle(x + d * 0.6, y - 400, d * 0.8);
        x = x + v;

        // Casa
        fill(232, 200, 111);
        rect(50, 150, 300, 150);

        fill(217, 210, 210);
        stroke(133, 126, 126);
        strokeWeight(2);
        rect(0, 300, 600, 300);

        fill(227, 163, 2, 100);
        stroke(77, 53, 37);
        rect(75, 175, 75, 75);
        rect(250, 175, 75, 75);

        fill(111, 78, 55);
        rect(160, 175, 80, 125);

        fill(105, 21, 21);
        rect(70, 50, 50, 90);

        fill(194, 188, 188, 150);
        stroke(163, 160, 160);
        strokeWeight(3);
        circle(95, 30, 30);
        circle(105, 20, 35);

        fill(149, 6, 6);
        stroke(77, 16, 11);
        strokeWeight(3);
        triangle(40, 150, 200, 50, 360, 150);

        // Árbol
        fill(59, 45, 32);
        rect(425, 315, 75, 50);
        fill(42, 105, 37);
        stroke(32, 64, 29);
        strokeWeight(3);
        triangle(400, 315, 475, 40, 550, 315);

        //Muñeco de nieve
        fill(242, 242, 242);
        stroke(130, 129, 129);
        strokeWeight(3);
        circle(snowmanX, 450, 120);
        circle(snowmanX, 375, 100);
        circle(snowmanX, 305, 80);

        fill(0);
        stroke(0);
        strokeWeight(5);
        circle(snowmanX, 450, 5);
        circle(snowmanX, 390, 5);
        circle(snowmanX, 370, 5);

        circle(snowmanX - 15, 305, 5);
        circle(snowmanX + 15, 305, 5);

        fill(242, 148, 65);
        stroke(247, 120, 7);
        strokeWeight(3);
        triangle(snowmanX, 310, snowmanX + 30, 315, snowmanX, 320);

        stroke(59, 45, 32);
        line(snowmanX + 40, 360, snowmanX + 50, 450);
        line(snowmanX - 40, 360, snowmanX - 50, 450);

        // Mover el muñeco hacia la izquierda
        snowmanX -= 1; // cambia la velocidad

        fill(255);
        noStroke();
        textSize(14);
        textAlign(LEFT, TOP);
        text("A1 — Mi escena con variables", 10, 10);
      }
    </script>
  </body>
</html>
